# MCP Chrome æœåŠ¡å™¨ - å®Œæ•´è§£å†³æ–¹æ¡ˆ

## é—®é¢˜æ€»ç»“

Chrome æ‰©å±•æ˜¾ç¤º "Service Not Started"ï¼Œè¡¨æ˜ï¼š
1. âœ… Chrome æ‰©å±•ä¸ Native Messaging ä¸»æœºè¿æ¥æˆåŠŸ
2. âŒ HTTP æœåŠ¡å™¨æ²¡æœ‰å¯åŠ¨

## ğŸ” æ ¹æœ¬åŸå› 

Native Messaging ä¸»æœºè¿›ç¨‹åœ¨å¯åŠ¨åç«‹å³é€€å‡ºï¼Œå¯¼è‡´ HTTP æœåŠ¡å™¨æ— æ³•å¯åŠ¨ã€‚è¿™å¯èƒ½æ˜¯ç”±äºï¼š
- ä¾èµ–åŠ è½½é—®é¢˜
- æ•°æ®åº“åˆå§‹åŒ–é—®é¢˜
- å…¶ä»–åˆå§‹åŒ–é”™è¯¯

## âœ… è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ç‹¬ç«‹çš„ HTTP æœåŠ¡å™¨å¯åŠ¨è„šæœ¬

æˆ‘å·²ç»åˆ›å»ºäº†ä¸€ä¸ªç‹¬ç«‹çš„ HTTP æœåŠ¡å™¨å¯åŠ¨è„šæœ¬ï¼Œå¯ä»¥ç»•è¿‡ Native Messaging çš„é—®é¢˜ã€‚

### æ­¥éª¤ 1ï¼šå¯åŠ¨ HTTP æœåŠ¡å™¨

åœ¨ CMD çª—å£ä¸­è¿è¡Œï¼š

```cmd
cd /d C:\Projects\Com_Projects\HuoShan\mcp-chrome\app\native-server\dist
node start-http-server.js
```

æˆ–è€…ä½¿ç”¨å¿«æ·æ–¹å¼ï¼š

```cmd
start "MCP HTTP Server" cmd /k "cd /d C:\Projects\Com_Projects\HuoShan\mcp-chrome\app\native-server\dist && node start-http-server.js"
```

### æ­¥éª¤ 2ï¼šéªŒè¯æœåŠ¡å™¨å¯åŠ¨

åœ¨å¦ä¸€ä¸ª CMD çª—å£ä¸­è¿è¡Œï¼š

```cmd
curl http://127.0.0.1:12306/ping
```

**æˆåŠŸå“åº”**:
```json
{
  "status": "ok",
  "message": "pong"
}
```

### æ­¥éª¤ 3ï¼šåœ¨ Chrome ä¸­è¿æ¥

1. æ‰“å¼€ Chrome æµè§ˆå™¨
2. ç‚¹å‡»æ‰©å±•å›¾æ ‡
3. ç‚¹å‡» "Connect" æŒ‰é’®
4. åº”è¯¥çœ‹åˆ° "Connected" çŠ¶æ€

### æ­¥éª¤ 4ï¼šåœ¨ Claude Code ä¸­ä½¿ç”¨

æ‰“å¼€ `huoshan_agent` é¡¹ç›®ï¼Œç„¶åå°è¯•ï¼š

```
è¯·å¸®æˆ‘åˆ—å‡ºå½“å‰æ‰“å¼€çš„æ‰€æœ‰æµè§ˆå™¨æ ‡ç­¾é¡µ
```

## ğŸ“ å¯åŠ¨è„šæœ¬ä½ç½®

```
C:\Projects\Com_Projects\HuoShan\mcp-chrome\app\native-server\dist\start-http-server.js
```

## ğŸ”§ å¦‚æœä»ç„¶æ— æ³•è¿æ¥

### æ£€æŸ¥ 1ï¼šç¡®ä¿ HTTP æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ

```bash
tasklist | findstr "node"
```

åº”è¯¥çœ‹åˆ°è‡³å°‘ä¸€ä¸ª node.exe è¿›ç¨‹ã€‚

### æ£€æŸ¥ 2ï¼šæ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨

```bash
netstat -ano | findstr "12306"
```

å¦‚æœç«¯å£è¢«å ç”¨ï¼Œå¯ä»¥æ›´æ”¹ç«¯å£å·ï¼š

```bash
mcp-chrome-bridge update-port 12307
```

ç„¶ååœ¨ Chrome æ‰©å±•ä¸­æ›´æ”¹ç«¯å£å·ã€‚

### æ£€æŸ¥ 3ï¼šæŸ¥çœ‹ Chrome æ§åˆ¶å°

1. æ‰“å¼€ Chrome DevToolsï¼ˆF12ï¼‰
2. åˆ‡æ¢åˆ° "Console" æ ‡ç­¾
3. æŸ¥çœ‹æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

## ğŸ’¡ é•¿æœŸè§£å†³æ–¹æ¡ˆ

è¿™ä¸ªé—®é¢˜çš„æ ¹æœ¬åŸå› æ˜¯ Native Messaging ä¸»æœºçš„åˆå§‹åŒ–é—®é¢˜ã€‚é•¿æœŸè§£å†³æ–¹æ¡ˆåŒ…æ‹¬ï¼š

1. **è°ƒæŸ¥ Native Messaging ä¸»æœºçš„åˆå§‹åŒ–é—®é¢˜**
   - æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶
   - æ£€æŸ¥ä¾èµ–æ˜¯å¦æ­£ç¡®å®‰è£…
   - æ£€æŸ¥æ•°æ®åº“åˆå§‹åŒ–æ˜¯å¦æˆåŠŸ

2. **ä½¿ç”¨ HTTP æœåŠ¡å™¨ä½œä¸ºä¸»è¦è¿æ¥æ–¹å¼**
   - é…ç½® Claude Code ä½¿ç”¨ HTTP è¿æ¥è€Œä¸æ˜¯ Native Messaging
   - è¿™æ ·å¯ä»¥é¿å… Native Messaging çš„é—®é¢˜

3. **è”ç³»é¡¹ç›®ç»´æŠ¤è€…**
   - æŠ¥å‘Š Native Messaging ä¸»æœºçš„é—®é¢˜
   - æä¾›è¯Šæ–­ä¿¡æ¯

## ğŸš€ å¿«é€Ÿå¯åŠ¨å‘½ä»¤

å°†ä»¥ä¸‹å‘½ä»¤ä¿å­˜ä¸ºæ‰¹å¤„ç†æ–‡ä»¶ï¼ˆ`start-mcp-server.bat`ï¼‰ï¼š

```batch
@echo off
cd /d C:\Projects\Com_Projects\HuoShan\mcp-chrome\app\native-server\dist
node start-http-server.js
pause
```

ç„¶ååŒå‡»è¿è¡Œå³å¯ã€‚

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé—®é¢˜ä»æœªè§£å†³ï¼Œè¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š

1. HTTP æœåŠ¡å™¨å¯åŠ¨æ—¶çš„å®Œæ•´è¾“å‡º
2. Chrome æ§åˆ¶å°ä¸­çš„é”™è¯¯ä¿¡æ¯
3. `curl http://127.0.0.1:12306/ping` çš„è¾“å‡º
4. `tasklist | findstr "node"` çš„è¾“å‡º

---

**è§£å†³æ–¹æ¡ˆåˆ›å»ºæ—¶é—´**: 2026-02-02
**MCP ç‰ˆæœ¬**: 1.0.29
**çŠ¶æ€**: å·²æä¾›ä¸´æ—¶è§£å†³æ–¹æ¡ˆ
