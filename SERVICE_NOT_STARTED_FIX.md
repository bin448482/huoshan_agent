# MCP Chrome æœåŠ¡å™¨ - è¿æ¥é—®é¢˜è¯Šæ–­

## é—®é¢˜æè¿°

Chrome æ‰©å±•æ˜¾ç¤ºï¼š
- ç‚¹å‡» Connect åï¼š**"Connected, Service Not Started"**
- åˆ·æ–°åï¼š**"Service Not Connected"**

## ğŸ” é—®é¢˜åˆ†æ

è¿™ä¸ªé—®é¢˜è¡¨æ˜ï¼š
1. âœ… Chrome æ‰©å±•ä¸ Native Messaging ä¸»æœºçš„è¿æ¥æˆåŠŸ
2. âŒ Native Messaging ä¸»æœºæ²¡æœ‰å¯åŠ¨ HTTP æœåŠ¡å™¨

## ğŸ”§ è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1ï¼šé‡æ–°åŠ è½½æ‰©å±•å¹¶é‡æ–°è¿æ¥ï¼ˆæ¨èï¼‰

1. **åœæ­¢æ‰€æœ‰ Node.js è¿›ç¨‹**
   ```bash
   taskkill /F /IM node.exe
   ```

2. **é‡æ–°åŠ è½½ Chrome æ‰©å±•**
   - è®¿é—® `chrome://extensions/`
   - æ‰¾åˆ° "Chrome MCP Server" æ‰©å±•
   - ç‚¹å‡» **"åˆ·æ–°"** æŒ‰é’®

3. **é‡å¯ Chrome æµè§ˆå™¨**
   - å®Œå…¨å…³é—­ Chrome
   - ç­‰å¾… 5 ç§’é’Ÿ
   - é‡æ–°æ‰“å¼€ Chrome

4. **ç‚¹å‡» Connect æŒ‰é’®**
   - ç‚¹å‡»æ‰©å±•å›¾æ ‡
   - ç‚¹å‡» "Connect" æŒ‰é’®
   - ç­‰å¾… 3-5 ç§’é’Ÿ

### æ–¹æ¡ˆ 2ï¼šæ£€æŸ¥ Chrome æ§åˆ¶å°æ—¥å¿—

1. **æ‰“å¼€ Chrome DevTools**
   - æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
   - åˆ‡æ¢åˆ° "Console" æ ‡ç­¾

2. **æŸ¥çœ‹é”™è¯¯ä¿¡æ¯**
   - æŸ¥æ‰¾ä»»ä½•çº¢è‰²é”™è¯¯ä¿¡æ¯
   - è®°å½•é”™è¯¯ä¿¡æ¯

3. **æŸ¥çœ‹ Background Service Worker æ—¥å¿—**
   - åœ¨ `chrome://extensions/` ä¸­æ‰¾åˆ°æ‰©å±•
   - ç‚¹å‡» "Service Worker" é“¾æ¥
   - æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º

### æ–¹æ¡ˆ 3ï¼šæ‰‹åŠ¨å¯åŠ¨ Native Messaging ä¸»æœº

å¦‚æœä¸Šè¿°æ–¹æ¡ˆä¸å·¥ä½œï¼Œå¯ä»¥æ‰‹åŠ¨å¯åŠ¨ Native Messaging ä¸»æœºï¼š

1. **æ‰“å¼€ CMD çª—å£**
   ```cmd
   start "MCP Chrome Server" cmd /k "cd /d C:\Projects\Com_Projects\HuoShan\mcp-chrome\app\native-server\dist && node index.js"
   ```

2. **åœ¨ Chrome æ‰©å±•ä¸­ç‚¹å‡» Connect**
   - è¿™æ¬¡åº”è¯¥èƒ½å¤Ÿå¯åŠ¨ HTTP æœåŠ¡å™¨

## ğŸ“ éªŒè¯è¿æ¥

### æ£€æŸ¥ HTTP æœåŠ¡å™¨æ˜¯å¦å¯åŠ¨

è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
```bash
curl http://127.0.0.1:12306/ping
```

**æˆåŠŸå“åº”**:
```json
{
  "status": "ok",
  "message": "pong"
}
```

**å¤±è´¥å“åº”**:
```
Failed to connect to 127.0.0.1 port 12306
```

## ğŸ” æ·±åº¦è¯Šæ–­

### è¿è¡Œè¯Šæ–­å‘½ä»¤

```bash
mcp-chrome-bridge doctor
```

åº”è¯¥çœ‹åˆ°æ‰€æœ‰é¡¹ç›®éƒ½æ˜¯ [OK]ã€‚

### æ£€æŸ¥ Native Messaging æ³¨å†Œ

```bash
mcp-chrome-bridge register
```

è¿™ä¼šé‡æ–°æ³¨å†Œ Native Messaging ä¸»æœºã€‚

### æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶

æ—¥å¿—æ–‡ä»¶ä½ç½®ï¼š
```
C:\Users\v-xuzhihao\AppData\Local\mcp-chrome-bridge\logs\
```

æŸ¥çœ‹æœ€æ–°çš„æ—¥å¿—æ–‡ä»¶æ¥äº†è§£å‘ç”Ÿäº†ä»€ä¹ˆã€‚

## ğŸ’¡ å¸¸è§åŸå› 

### åŸå›  1ï¼šNative Messaging ä¸»æœºè¿›ç¨‹å´©æºƒ

**ç—‡çŠ¶**: è¿æ¥æˆåŠŸä½†æœåŠ¡å™¨æ²¡æœ‰å¯åŠ¨

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥æ—¥å¿—æ–‡ä»¶
2. é‡æ–°æ³¨å†Œ Native Messaging ä¸»æœº
3. é‡å¯ Chrome

### åŸå›  2ï¼šç«¯å£è¢«å ç”¨

**ç—‡çŠ¶**: HTTP æœåŠ¡å™¨æ— æ³•å¯åŠ¨

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–è¿›ç¨‹å ç”¨ 12306 ç«¯å£
2. æ›´æ”¹ç«¯å£å·ï¼š`mcp-chrome-bridge update-port <æ–°ç«¯å£>`
3. é‡æ–°è¿æ¥

### åŸå›  3ï¼šæƒé™é—®é¢˜

**ç—‡çŠ¶**: Native Messaging ä¸»æœºæ— æ³•å¯åŠ¨

**è§£å†³æ–¹æ¡ˆ**:
1. ä¿®å¤æƒé™ï¼š`mcp-chrome-bridge fix-permissions`
2. é‡æ–°æ³¨å†Œï¼š`mcp-chrome-bridge register`
3. é‡å¯ Chrome

## ğŸš€ å¿«é€Ÿä¿®å¤æ­¥éª¤

æŒ‰ç…§ä»¥ä¸‹é¡ºåºå°è¯•ï¼š

1. **é‡æ–°åŠ è½½æ‰©å±•**
   ```
   chrome://extensions/ â†’ åˆ·æ–°æŒ‰é’®
   ```

2. **é‡å¯ Chrome**
   - å®Œå…¨å…³é—­ Chrome
   - é‡æ–°æ‰“å¼€ Chrome

3. **é‡æ–°è¿æ¥**
   - ç‚¹å‡»æ‰©å±•å›¾æ ‡
   - ç‚¹å‡» "Connect" æŒ‰é’®

4. **å¦‚æœä»ç„¶å¤±è´¥ï¼Œè¿è¡Œä¿®å¤å‘½ä»¤**
   ```bash
   mcp-chrome-bridge fix-permissions
   mcp-chrome-bridge register
   ```

5. **é‡å¯è®¡ç®—æœº**
   - å¦‚æœä¸Šè¿°æ­¥éª¤éƒ½ä¸å·¥ä½œ

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé—®é¢˜ä»æœªè§£å†³ï¼Œè¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š

1. `mcp-chrome-bridge doctor` çš„å®Œæ•´è¾“å‡º
2. Chrome æ§åˆ¶å°ä¸­çš„é”™è¯¯ä¿¡æ¯
3. `C:\Users\v-xuzhihao\AppData\Local\mcp-chrome-bridge\logs\` ä¸­çš„æ—¥å¿—æ–‡ä»¶å†…å®¹
4. ä½ å°è¯•è¿‡çš„æ‰€æœ‰æ­¥éª¤

---

**è¯Šæ–­æ—¶é—´**: 2026-02-02
**MCP ç‰ˆæœ¬**: 1.0.29
**é—®é¢˜**: Service Not Started
